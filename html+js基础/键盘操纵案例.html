<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        img {
            position: absolute;
            width: 300px;
            height: 300px;
            bottom: 0;
            transition: all .5s;
        }
        
        body {
            height: 100vh;
            margin: 0;
            transition: all .5s;
            background-image: url("https://image.kanokano.cn/2022/03/20220317091453610.png");
        }
    </style>
</head>

<body>
    <img src="https://image.kanokano.cn/2022/03/20220317092041906.png">
    <script>
        img = document.querySelector("img");
        var x = 0;
        var y = 0;

        var timer = setInterval(function() {
            x += 50;
            document.querySelector('body').style.backgroundPositionX = -x + 'px';
        }, 10);


        document.addEventListener("keyup", function(e) {
            //clearInterval(timer);
            if (e.code == 'KeyW') {
                //防止上下图片越界
                if (img.offsetTop - 20 > 0) {
                    y -= 50;
                }

                img.style.top = y + 'px';

            }
            if (e.code == 'KeyS') {
                //防止上下图片越界
                if (img.offsetTop + img.clientHeight + 100 < document.body.clientHeight) {
                    y += 50;
                }

                img.style.top = y + 'px';

            }
            if (e.code == 'KeyA') {
                x -= 50;
                document.querySelector('body').style.backgroundPositionX = -x - 50 + 'px';
                // img.style.left = x + 'px';

            }
            if (e.code == 'KeyD') {
                x += 50;
                document.querySelector('body').style.backgroundPositionX = -x + 50 + 'px';
                // img.style.left = x + 'px';ddddddd


            }

        });
    </script>
</body>

</html>